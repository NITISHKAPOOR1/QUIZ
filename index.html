<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excellence Academy | Comprehensive Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@600&family=Plus+Jakarta+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #fdfdfc;
            --sidebar: #f8f7f2;
            --accent: #2c3e50;
            --gold: #c5a059;
            --text: #1a1a1a;
            --border: #e1e1e1;
            --glass: rgba(255, 255, 255, 0.98);
        }

        * { transition: all 0.2s ease; box-sizing: border-box; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; margin: 0; background: var(--bg); color: var(--text); overflow: hidden; }

        /* --- LOGIN PAGE --- */
        #login-page {
            height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center;
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?auto=format&fit=crop&w=1920&q=80');
            background-size: cover; position: fixed; z-index: 1000;
        }
        .login-card { background: var(--glass); padding: 50px; border-radius: 20px; width: 400px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }

        /* --- DASHBOARD --- */
        #main-app { display: none; height: 100vh; }
        nav { width: 280px; background: var(--sidebar); border-right: 1px solid var(--border); padding: 30px 20px; display: flex; flex-direction: column; overflow-y: auto; }
        .nav-label { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: #888; margin: 25px 0 10px 10px; }
        .nav-item { padding: 12px 15px; margin-bottom: 4px; cursor: pointer; border-radius: 10px; color: #444; font-size: 14px; font-weight: 500; display: flex; align-items: center; gap: 10px; }
        .nav-item:hover { background: #fff; color: var(--gold); }
        .nav-item.active { background: #fff; color: var(--accent); border-left: 4px solid var(--gold); box-shadow: 0 4px 10px rgba(0,0,0,0.05); font-weight: 600; }

        main { flex-grow: 1; overflow-y: auto; padding: 50px 70px; background: #fff; }
        .subject-header { border-bottom: 1px solid #eee; margin-bottom: 40px; padding-bottom: 20px; }
        .subject-header h1 { font-family: 'Crimson Pro', serif; font-size: 38px; margin: 0; color: var(--accent); }
        
        /* --- CARDS & TABLES --- */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }
        .test-card { background: #fff; border: 1px solid var(--border); padding: 30px; border-radius: 15px; }
        .btn-attempt { width: 100%; padding: 12px; border: 1.5px solid var(--accent); background: none; border-radius: 8px; cursor: pointer; font-weight: 600; text-decoration: none; display: inline-block; text-align: center; color: var(--accent); }
        .btn-attempt:hover { background: var(--accent); color: white; }
        .btn-attempt.disabled { opacity: 0.3; cursor: not-allowed; pointer-events: none; border-color: #ccc; }

        iframe { width: 100%; height: 80vh; border: 1px solid var(--border); border-radius: 15px; margin-top: 20px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<section id="login-page">
    <div class="login-card">
        <h1 style="font-family: 'Crimson Pro'; font-size: 32px; margin-bottom: 10px;">Excellence Academy</h1>
        <p style="color: #666; margin-bottom: 30px; font-size: 14px;">Entrance to Academic Portal</p>
        <button class="btn-attempt" style="background: var(--accent); color: white;" onclick="enterPortal()">Enter Portal</button>
    </div>
</section>

<div id="main-app">
    <nav>
        <div style="font-family: 'Crimson Pro'; font-size: 24px; color: var(--gold); margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 15px;">Academy.LMS</div>
        
        <div class="nav-label">GK Subjects</div>
        <div class="nav-item active" onclick="switchSubject('History', this)">üèõÔ∏è History</div>
        <div class="nav-item" onclick="switchSubject('Geography', this)">üèîÔ∏è Geography</div>
        <div class="nav-item" onclick="switchSubject('Polity', this)">‚öñÔ∏è Polity</div>
        <div class="nav-item" onclick="switchSubject('Economy', this)">üìà Economy</div>
        <div class="nav-item" onclick="switchSubject('Science', this)">üî¨ General Science</div>

        <div class="nav-label">Core Subjects</div>
        <div class="nav-item" onclick="switchSubject('Reasoning', this)">üß© Reasoning</div>
        <div class="nav-item" onclick="switchSubject('Math', this)">üî¢ Mathematics</div>
        <div class="nav-item" onclick="switchSubject('PunjabGK', this)">üåæ Punjab GK</div>
        <div class="nav-item" onclick="switchSubject('English', this)">üî§ English</div>
        <div class="nav-item" onclick="switchSubject('Punjabi', this)">‚úçÔ∏è Punjabi</div>

        <div class="nav-label">Admin</div>
        <div class="nav-item" onclick="showAdmin(this)">üìä Score Reports</div>
        
        <div class="nav-item" onclick="location.reload()" style="color: #bd2130; margin-top: auto; border-top: 1px solid #eee; padding-top: 20px;">Logout</div>
    </nav>

    <main id="dashboard-content">
        </main>
</div>

<script>
    /**
     * CENTRAL TEST REGISTRY
     * Link your HTML files here. Example: 'Subject-Test#' : 'Path'
     */
    const testFileRegistry = {
        'History-1': 'histest1.html',
        'Math-1': 'tests/math_01.html',
        'PunjabGK-1': 'tests/punjab_gk_01.html'
    };

    /**
     * GOOGLE SHEET REPORT LINK
     * 1. Open Google Sheet -> File -> Share -> Publish to Web.
     * 2. Copy the link and paste it here.
     */
    const googleSheetReportUrl = "https://script.google.com/macros/s/AKfycbxydm91qNx3_SZucQxn4LnIwgIh94_Oy-4nZdZT7JVnTdqmGkMszdo3T-5vDO5xJZPK/exec";

    function enterPortal() {
        document.getElementById('login-page').style.display = 'none';
        document.getElementById('main-app').style.display = 'flex';
        switchSubject('History', document.querySelector('.nav-item'));
    }

    function switchSubject(sub, el) {
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
        
        const main = document.getElementById('dashboard-content');
        let html = `
            <div class="subject-header"><h1>${sub} Assessments</h1></div>
            <div class="grid">`;
        
        for(let i=1; i<=10; i++) {
            const path = testFileRegistry[`${sub}-${i}`];
            html += `
                <div class="test-card">
                    <span style="font-size:10px; font-weight:700; color:var(--gold);">SLOT #${i}</span>
                    <h3>${sub} Test</h3>
                    <p style="font-size:12px; color:#666;">Standard 100-mark assessment.</p>
                    <a href="${path || '#'}" target="_blank" class="btn-attempt ${path ? '' : 'disabled'}">
                        ${path ? 'Attempt Test' : 'Not Available'}
                    </a>
                </div>`;
        }
        main.innerHTML = html + `</div>`;
    }

    function showAdmin(el) {
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
        
        document.getElementById('dashboard-content').innerHTML = `
            <div class="subject-header"><h1>Global Score Reports</h1></div>
            <p style="color:#666;">Viewing live synchronized data from GitHub deployment.</p>
            <iframe src="${googleSheetReportUrl}"></iframe>
        `;
    }
</script>

</body>
</html>
